var listProduct = [
    {
        id: 100,
        name: 'Sun - Black',
        trademark: 'TotWoo', //thương hiệu
        price: 1100000,
        price_sale: 1300000,
        color: 'Black',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/sun-black.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/sun-black.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-sun-100.html'
    },
    {
        id: 101,
        name: 'Sun - Black/Silver - Silver Metal Chain',
        trademark: 'TotWoo', //thương hiệu
        price: 1450000,
        price_sale: 1650000,
        color: 'Black/Silver',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/sun-black-silver-metal-chain.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/sun-black-silver-metal-chain.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-sun-101.html'
    },
    {
        id: 102,
        name: 'Moon - Pink/Silver',
        trademark: 'TotWoo', //thương hiệu
        price: 1100000,
        price_sale: 1300000,
        color: 'Pink/Silver',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/moon-silver.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/moon-silver.jpg",
            "uploads/tiny_uploads/totwoo/moon-pink.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-moon-102.html'
    },
    {
        id: 103,
        name: 'Moon - Pink/Silver - Zircons',
        trademark: 'TotWoo', //thương hiệu
        price: 1350000,
        price_sale: 1550000,
        color: 'Pink/Silver - Zircons',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/moon-pink-zircons.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/moon-silver-zircons.jpg",
            "uploads/tiny_uploads/totwoo/moon-pink-zircons.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-moon-103.html'
    },
    {
        id: 104,
        name: 'Moon - Pink/Silver - Zircons - Metal Chain',
        trademark: 'TotWoo', //thương hiệu
        price: 1350000,
        price_sale: 1550000,
        color: 'Pink/Silver - Zircons - Metal Chain',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/moon-pink-zircons-metal-chain.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/moon-silver-zircons-metal-chain.jpg",
            "uploads/tiny_uploads/totwoo/moon-pink-zircons-metal-chain.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-moon-104.html'
    },
    {
        id: 105,
        name: 'Sun & Moon (Silver-Pink, Silver-Silver, Black-Silver, Black-Pink)',
        trademark: 'TotWoo', //thương hiệu
        price: 2100000,
        price_sale: 2500000,
        color: 'Silver-Pink, Silver-Silver, Black-Silver, Black-Pink',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/sun-moon-silver-pink.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/sun-moon-silver-pink.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-silver-silver.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-black-silver.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-black-pink.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-sun-moon-105.html'
    },
    {
        id: 106,
        name: 'Sun & Moon - Zircons (Silver-Pink, Silver-Silver, Black-Silver, Black-Pink)',
        trademark: 'TotWoo', //thương hiệu
        price: 2350000,
        price_sale: 2650000,
        color: 'Silver-Pink, Silver-Silver, Black-Silver, Black-Pink',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/sun-moon-silver-silver-zircons.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/sun-moon-silver-pink-zircons.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-silver-silver-zircons.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-black-silver-zircons.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-black-pink-zircons.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-sun-moon-106.html'
    },
    {
        id: 107,
        name: 'Sun & Moon - Zircons - Metal Chain (Silver-Pink, Silver-Silver, Black-Silver, Black-Pink)',
        trademark: 'TotWoo', //thương hiệu
        price: 2750000,
        price_sale: 3000000,
        color: 'Silver-Pink, Silver-Silver, Black-Silver, Black-Pink',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/sun-moon-black-pink-zircons-metal-chain.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/sun-moon-black-pink-zircons-metal-chain.jpg",
            "uploads/tiny_uploads/totwoo/sun-moon-silver-silver-zircons-metal-chain.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-sun-moon-107.html'
    },
    {
        id: 108,
        name: 'Lily of the Valley - White/Red/Blue',
        trademark: 'TotWoo', //thương hiệu
        price: 3550000,
        price_sale: 5850000,
        color: 'White/Red/Blue',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo_lily1.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo_lily1.jpg",
            "uploads/tiny_uploads/totwoo_lily2.png",
            "uploads/tiny_uploads/totwoo_lily3.jpg",
            "uploads/tiny_uploads/totwoo_lily4.jpg"
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-lily-108.html'
    },
    {
        id: 109,
        name: 'Couple Bracelet & Necklace',
        trademark: 'TotWoo', //thương hiệu
        price: 6250000,
        price_sale: 6650000,
        color: '',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo_vongtay_daychuyen.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo_vongtay_daychuyen.jpg",
            "uploads/tiny_uploads/totwoo_vongtay_daychuyen2.jpg",
            "uploads/tiny_uploads/totwoo_daychuyen.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-bracelet-necklace-109.html'
    },
    {
        id: 110,
        name: 'Flower & Leaves',
        trademark: 'TotWoo', //thương hiệu
        price: 7300000,
        price_sale: 8000000,
        color: '',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo_flower_leaves.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo_flower_leaves.jpg",
            "uploads/tiny_uploads/totwoo_lily1.jpg",
            "uploads/tiny_uploads/totwoo_lily2.jpg",
            "uploads/tiny_uploads/totwoo_lily3.jpg",
            "uploads/tiny_uploads/totwoo_lily4.jpg",
        ],
        category: 1,
        url: 'vong-tay-thong-minh-totwoo-flower-leaves-110.html'
    },

    //cat day chuyen
    {
        id: 200,
        name: 'Flower Necklet - Gold/Blue/Red',
        trademark: 'TotWoo', //thương hiệu
        price: 3500000,
        price_sale: 3900000,
        color: 'Gold/Blue/Red',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/flower-necklet-red.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/flower-necklet-red.jpg",
            "uploads/tiny_uploads/totwoo/flower-necklet-blue.jpg",
            "uploads/tiny_uploads/totwoo/flower-necklet-gold.jpg",
        ],
        category: 2,
        url: 'vong-tay-thong-minh-totwoo-flower-necklet-200.html'
    },
    {
        id: 201,
        name: 'Flower Necklet - Full Gold',
        trademark: 'TotWoo', //thương hiệu
        price: 4000000,
        price_sale: 4500000,
        color: 'Full Gold',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/flower-necklet-gold-full.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/flower-necklet-gold-full.jpg",
        ],
        category: 2,
        url: 'vong-tay-thong-minh-totwoo-flower-necklet-201.html'
    },
    {
        id: 202,
        name: 'The Moment - Gold/Silver',
        trademark: 'TotWoo', //thương hiệu
        price: 999000,
        price_sale: 1500000,
        color: 'Gold',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'lading-page/pictures/nc/nc8.jpg',
        pictures: [
            "lading-page/pictures/nc/nc1.jpg",
            "lading-page/pictures/nc/nc2.jpg",
            "lading-page/pictures/nc/nc3.jpg",
            "lading-page/pictures/nc/nc4.jpg",
            "lading-page/pictures/nc/nc5.jpg",
            "lading-page/pictures/nc/nc6.jpg",
            "lading-page/pictures/nc/nc7.jpg",
            "lading-page/pictures/nc/nc8.jpg",
        ],
        category: 2,
        url: 'vong-tay-thong-minh-totwoo-the-moment-202.html'
    },

//cat phu kien
    {
        id: 300,
        name: 'Necklet item - Silver/Pink',
        trademark: 'TotWoo', //thương hiệu
        price: 300000,
        price_sale: 380000,
        color: 'Silver/Pink',
        material: 'Hàng chính hãng', //chất liệu
        thumb: 'uploads/tiny_uploads/totwoo/necklet-silver.jpg',
        pictures: [
            "uploads/tiny_uploads/totwoo/necklet-silver.jpg",
            "uploads/tiny_uploads/totwoo/necklet-pink.jpg",
        ],
        category: 3,
        url: 'vong-tay-thong-minh-totwoo-necklet-300.html'
    },


//    {
//        id: 104,
//        name: 'We Bold',
//        trademark: 'TotWoo', //thương hiệu
//        price: 3150000,
//        price_sale: 3350000,
//        color: '',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/totwoo_we_bold.jpg',
//        pictures: [
//            "uploads/tiny_uploads/totwoo_we_bold.jpg",
//            "uploads/tiny_uploads/totwoo_we_bold2.jpg",
//            "uploads/tiny_uploads/totwoo_we_bold3.jpg",
//        ],
//        category: 1,
//        url: 'detail-we-bold.html'
//    },

//
//    //cat 2
//    {
//        id: 200,
//        name: 'Wing Bling Flower Me Earings',
//        trademark: 'Wing Bling', //thương hiệu
//        price: 480000,
//        price_sale: 525000,
//        color: 'Hồng / Bạc',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/wing_bling_flower_me_earing.jpg',
//        pictures: [
//            "uploads/tiny_uploads/wing_bling_flower_me_earing.jpg",
//            "uploads/tiny_uploads/wing_bling_flower_me_earing.jpg",
//            "uploads/tiny_uploads/wing_bling_flower_me_earing.jpg"
//        ],
//        category: 2,
//        url: 'detail-sun-moon.html'
//    },
//    {
//        id: 201,
//        name: 'Wing Bling Snowflake Earings',
//        trademark: 'Wing Bling', //thương hiệu
//        price: 380000,
//        price_sale: 480000,
//        color: 'Bạc / Hồng',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/wing_bling_snowflake.jpg',
//        pictures: [
//            "uploads/tiny_uploads/wing_bling_snowflake.jpg",
//            "uploads/tiny_uploads/wing_bling_snowflake.jpg",
//            "uploads/tiny_uploads/wing_bling_snowflake.jpg"
//        ],
//        category: 2,
//        url: 'detail-sun-moon.html'
//    },
//    {
//        id: 202,
//        name: 'Wing Bling Petite Dress Necklace',
//        trademark: 'Wing Bling', //thương hiệu
//        price: 450000,
//        price_sale: 6500000,
//        color: 'Pink',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/wing_bling_petite_dress_necklace.jpg',
//        pictures: [
//            "uploads/tiny_uploads/wing_bling_petite_dress_necklace.jpg",
//            "uploads/tiny_uploads/wing_bling_petite_dress_necklace.jpg",
//            "uploads/tiny_uploads/wing_bling_petite_dress_necklace.jpg"
//        ],
//        category: 2,
//        url: 'detail-sun-moon.html'
//    },
//
//    //cat 3
//    {
//        id: 300,
//        name: 'Coach Floral Eau De Parfum 30ml',
//        trademark: 'Coach', //thương hiệu
//        price: 1399000,
//        price_sale: 190000,
//        color: 'Hồng / Bạc',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/coach_floral_eau.jpg',
//        pictures: [
//            "uploads/tiny_uploads/coach_floral_eau.jpg",
//            "uploads/tiny_uploads/coach_floral_eau.jpg",
//            "uploads/tiny_uploads/coach_floral_eau.jpg"
//        ],
//        category: 3,
//        url: 'detail-sun-moon.html'
//    },
//    {
//        id: 301,
//        name: 'Salvatore Ferragamo Signorina In Flore 20ml',
//        trademark: 'Salvatore', //thương hiệu
//        price: 980000,
//        price_sale: 1600000,
//        color: 'Bạc / Hồng',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/salvatore_ferragamo_signorina_in_flore.jpg',
//        pictures: [
//            "uploads/tiny_uploads/salvatore_ferragamo_signorina_in_flore.jpg",
//            "uploads/tiny_uploads/salvatore_ferragamo_signorina_in_flore.jpg",
//            "uploads/tiny_uploads/salvatore_ferragamo_signorina_in_flore.jpg"
//        ],
//        category: 3,
//        url: 'detail-sun-moon.html'
//    },
//    {
//        id: 302,
//        name: 'Guess Girl 30ml',
//        trademark: 'Guess', //thương hiệu
//        price: 850000,
//        price_sale: 16500000,
//        color: 'Pink',
//        material: 'Hàng chính hãng', //chất liệu
//        thumb: 'uploads/tiny_uploads/guess_girl.jpg',
//        pictures: [
//            "uploads/tiny_uploads/guess_girl.jpg",
//            "uploads/tiny_uploads/guess_girl.jpg",
//            "uploads/tiny_uploads/guess_girl.jpg"
//        ],
//        category: 3,
//        url: 'detail-sun-moon.html'
//    },
]

function loadCart() {
    var cart = window.localStorage.getItem("cart");
    if (cart != undefined && cart != null) {
        var cartJson = JSON.parse(cart);
        console.log('load cart ', cartJson);

        if (cartJson.length == 0) {
            $('.card-empty').show();
            $('#list-product-item-order').empty();
            $('.mini-cart-order .number').text(nh_functions.formatMoney(0));
            $("#total_price_final").text(nh_functions.formatMoney(0));
        } else {
            $('.card-empty').hide();
            $('#list-product-item-order').empty();

            let totalAmount = 0;
            let totalQuantiry = 0;
            cartJson.forEach(function (item) {
                //lấy detail product
                let productDetail = null
                for (let i = 0; i < listProduct.length; i++) {
                    if (listProduct[i].id == item.item_id) {
                        productDetail = listProduct[i]
                    }
                }

                if (productDetail != null) {
                    totalAmount += item.quantity * productDetail.price;
                    totalQuantiry += item.quantity;

                    var html = '<div class="media position-relative product-item-order">'
                    html += '<a class="product-item-info delete-order pull-right" title="Xóa" product-id="' + productDetail.id + '" item-id="' + productDetail.id + '" style="cursor: pointer;"> <i class="fa fa-times"></i> </a>';
                    html += '<div class="media-left">';
                    html += '<a href="' + productDetail.url + '" class="img-80">';
                    html += '<img src="' + productDetail.thumb + '" />';
                    html += '</a>';
                    html += '</div>';
                    html += '<div class="media-body">';
                    html += '<div class="price-well">' + nh_functions.formatMoney(productDetail.price) + 'đ</div>';
                    html += '<p class="price-before"><span>' + nh_functions.formatMoney(productDetail.price_sale) + 'đ</span></p>';
                    html += '<h4 class="media-heading"><a href="' + productDetail.url + '"> ' + productDetail.name + ' </a></h4>';
                    html += '<label class="hidden">Số lượng</label>';
                    html += '<div class="order-quantity">';
                    html += '<p>Số lượng:</p>';
                    html += '<input type="number" name="quantity[]" value="' + item.quantity + '" item-id="' + productDetail.id + '" class="input-cart" style="width: 40px;" />';
                    html += '</div>';
                    html += '</div>';
                    html += '</div>';

                    $('#list-product-item-order').append(html);
                }
            })

            var htmlAll = ''
            $('.box-cart-right-cont').append(htmlAll);

            $('.mini-cart-order .number').text(nh_functions.formatMoney(totalQuantiry));
            $("#total_price_final").text(nh_functions.formatMoney(totalAmount) +"đ");

        }
    } else {
        $('.mini-cart-order .number').text(nh_functions.formatMoney(0));
        $("#total_price_final").text(nh_functions.formatMoney(0));
    }
}

function loadCartNumber() {
    let totalQuantiry = 0;

    var cart = window.localStorage.getItem("cart");
    if (cart != undefined && cart != null) {
        var cartJson = JSON.parse(cart);

        if (cartJson.length > 0) {
            cartJson.forEach(function (item) {
                totalQuantiry += item.quantity;
            })
        }
    }

    $('.mini-cart-order .number').text(nh_functions.formatMoney(totalQuantiry));
}

function loadProduct(category) {
    listProduct.forEach(function (productDetail) {
        //lấy detail product
        if (productDetail.category == category) {

            var htmlProduct = '<div class="list-item col-md-4 col-sm-4 col-xs-12 cc-product-main">'
            htmlProduct += '<div class="item-product hover-action-product style-view-2 clearfix cc-product-wrapper" >'
            htmlProduct += '<span class="status-product bg-red">HOT</span>'
            htmlProduct += '<div class="img bg-img-50" title="' + productDetail.name + '">'
            htmlProduct += '<a href="' + productDetail.url + '" title="' + productDetail.name + '">'
            htmlProduct += '<img src="' + productDetail.thumb + '" alt="' + productDetail.name + '" class="img-product" />'
            htmlProduct += '</a>'
            htmlProduct += '</div>'
            htmlProduct += '<div class="info">'
            htmlProduct += '<h4 class="title-product">'
            htmlProduct += '<a href="' + productDetail.url + '">' + productDetail.name + '</a>'
            htmlProduct += '</h4>'
            htmlProduct += '<div class="price price-inline">'
            htmlProduct += '<p class="price-well">'
            htmlProduct += nh_functions.formatMoney(productDetail.price) + 'đ'
            htmlProduct += '</p>'
            htmlProduct += '</br>'
            htmlProduct += '<p class="price-before">'
            htmlProduct += nh_functions.formatMoney(productDetail.price_sale) + 'đ'
            htmlProduct += '</p>'
            htmlProduct += '</div>'
            htmlProduct += '<div class="show-list">'
            htmlProduct += '<div class="desc-product-thumb">'
            htmlProduct += '<p></p>'
            htmlProduct += '</div>'
            htmlProduct += '</div>'
            htmlProduct += '<div class="action-product bg-main">'
            htmlProduct += '<a href="javascript://" class="item-action btn-shop-cart" item-id="' + productDetail.id + '" status-store="">'
            htmlProduct += '<i class="fa fa-shopping-cart"></i>'
            htmlProduct += '<!--Thêm vào giỏ hàng-->'
            htmlProduct += '</a>'
            htmlProduct += '</div>'

            htmlProduct += '<div class="cc-cart-item">'
            htmlProduct += '<a href="javascript://" class="item-action btn-shop-cart cc-cart-icon-mobile" item-id="' + productDetail.id + '" status-store="">'
            htmlProduct += '<i class="fa fa-shopping-cart"></i>'
            htmlProduct += '<!--Thêm vào giỏ hàng-->'
            htmlProduct += '</a>'
            htmlProduct += '</div>'

            htmlProduct += '<div class="content-attr hidden"></div>'
            htmlProduct += '</div>'
            htmlProduct += '</div>'
            htmlProduct += '</div>'

            document.getElementById('list-product-item-cat' + category).insertAdjacentHTML('beforeend', htmlProduct)
        }
    })
}
